#!/bin/bash
for i in 01 02 03 04 05 06 07 08 09 10 11 12 13 14 15 16 17 18 19 20 21 22 ; do for j in `seq 1 \`ls gh_200/c$i/map_* | xargs -I {} basename {} .$i | sed 's/map_//' | sort -n | tail -1\``; do echo "track name='chr$i snps' description='snps used'" >> ct_map_chr$i.track ; grep -v "Genpos" gh_200/c$i/map_$j.$i ; done | awk '{ printf "chr%s\t%s\t%s\t%s\n", $1, $4, $4, $3 }' >> ct_map_chr$i.track ; echo "track name='chr$i borders' description='borders'" >> ct_borders_chr$i.track ; grep -v "^track" ct_map_chr$i.track | uniq -c | sed 's/^\W*//' | grep "^2" | awk '{ printf "%s\t%s\t%s\t%s\n", $2,$3,$4,$5 }' >> ct_borders_chr$i.track ; done
